@model List<OrderListModel>
@{
    ViewData["Title"] = "GetOrders";
}

<h1>Siparişler</h1>

<hr/>

@foreach(var order in Model)
{
  <table class = "table table-bordered table-sm mb-3">
    
    <thead class="bg-primary text white">
        <tr>
            <td colspan="2">Sipariş No: # @order.OrderId</td>
            <th>Fiyat</th>
            <th>Miktar</th>
        </tr>
    </thead>
      <tbody>
         @foreach (var orderItem in order.OrderItems)
         {
          <tr>
              <td style="width:60px">
                  <img src="~/img/@orderItem.ImageUrl" width="50" />
              </td>
              <td>
                  @orderItem.Name
              </td>
              <td>
                  @orderItem.Price
              </td>
              <td>
                  @orderItem.Name
              </td>
              <td>
                  @orderItem.Quantity
              </td>
          </tr>
         }
      </tbody>
      <tfoot>
          <tr>
              <td colspan="2">Müşteri İsmi</td>
              <td>@order.FirstName @order.LastName</td>
              <td rowspan="3">Toplam Fiyat: @order.TotalPrice()</td>

          </tr>
          <tr>
              <td colspan="2">Adres:</td>
              <td>@order.Address</td>
          </tr>
          <tr>
              <td colspan="2">Telefon:</td>
              <td>@order.Phone</td>
          </tr>
          <tr>
              <td colspan="2">Email:</td>
              <td>@order.Email</td>
          <tr>
              <td colspan="2">Ödeme Durumu:</td>
              <td>@order.PaymentTypes</td>
          </tr>
          <tr>
              <td colspan="2">Sipariş Durumu:</td>
              <td>@order.OrderState</td>
          </tr>
          </tr>
      </tfoot>
</table>
}

